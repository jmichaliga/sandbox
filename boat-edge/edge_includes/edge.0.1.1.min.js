//Copyright (c) 2011. Adobe Systems Incorporated.
// All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are met:
//
//   * Redistributions of source code must retain the above copyright notice,
//     this list of conditions and the following disclaimer.
//   * Redistributions in binary form must reproduce the above copyright notice,
//     this list of conditions and the following disclaimer in the documentation
//     and/or other materials provided with the distribution.
//   * Neither the name of Adobe Systems Incorporated nor the names of its
//     contributors may be used to endorse or promote products derived from this
//     software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
// POSSIBILITY OF SUCH DAMAGE.
//
// AdobePatentID="B1316"
// AdobePatentID="B1318"
//
// edge.0.0.1.min.js - version 0.1.1
 
(function(m){if(typeof m.Edge==="undefined")m.Edge={};var e=m.Edge;e.version="0.1.1";e.cloneJSONObject=function(n){var l,b;if(m.isArray(n)){l=[];var g,j=n.length;for(g=0;g<j;g++)b=n[g],l[g]=typeof b==="object"?e.cloneJSONObject(b):b}else for(g in l={},n)g!="prototype"&&(b=n[g],l[g]=typeof b==="object"?e.cloneJSONObject(b):b);return l};e.Notifier=function(){this.observers=[];this.notificationLevel=this.suppressNotifications=0};m.extend(e.Notifier.prototype,{addObserver:function(e){if(e){for(var l=
this.observers.length,b=0;b<l;b++)if(this.observers[b].observer==e)return;this.observers[l]={observer:e}}},removeObserver:function(e){if(e)for(var l=0;l<this.observers.length;l++)if(this.observers[l].observer==e)if(this.notificationLevel===0){this.observers.splice(l,1);break}else this.observers[l].deleted=!0},notifyObservers:function(e,l){if(e&&!this.suppressNotifications){l||(l={});l.methodName=e;this.notificationLevel++;var b;for(b=0;b<this.observers.length;b++){var g=this.observers[b];if(g=g&&
!g.deleted?g.observer:void 0)if(typeof g=="function")g(e,this,l);else if(g[e])g[e](this,l)}this.notificationLevel--;if(this.notificationLevel===0)for(b=this.observers.length-1;b>=0;b--)this.observers[b].deleted&&this.observers.splice(b,1)}},enableNotifications:function(){if(--this.suppressNotifications<0)this.suppressNotifications=0,e.Debug.reportError("Unbalanced enableNotifications() call!\n")},disableNotifications:function(){++this.suppressNotifications}});e.trimString=function(e){return e.replace(/^\s+|\s+$/g,
"")}})(jQuery);(function(m,e){function n(){e.Notifier.call(this);this.animationID="animID-"+n.nextID++}function l(a,d,b){e.Animation.call(this);if(typeof a=="function")this.handler=a;else if(typeof a=="string")this.eventType=a;this.handlerContext=b;this.data=d}function b(a,d,p,k){e.Notifier.call(this);this.animation=a;this.position=0;this.duration=-1;this.easing=typeof k=="function"?k:k&&m.easing[k]?k:b.defaultEasing;if(d!==void 0)this.position=d;if(p!==void 0)this.duration=p;this.timeline=null;this.dScale=1;this.dDuration=
0;this.done=!1}function g(a){this.parameters={};a&&m.extend(this,a)}function j(a){e.Animation.call(this);m.extend(this,e.Timeline.config);m.extend(this,a);this.duration=this.currentPosition=this.startPosition=this.timerStart=this.timer=0;this.interval=1E3/this.fps;this.objects=[]}var i={};n.nextID=1;m.extend(n.prototype,e.Notifier.prototype,{constructor:n,_setup:function(){},_update:function(){},getDuration:function(){return 0}});m.extend(l.prototype,n.prototype,{constructor:l,_update:function(a){this.done||
(this.handler?this.handler.call(this.handlerContext,a,this.data):this.eventType&&this.timeline&&this.timeline.notifyObservers(this.eventType,{elapsed:a,data:this.data}));this.done=!0},_setup:function(a){this.timeline=a;this.done=!1}});b.defaultEasing="linear";m.extend(b.prototype,e.Notifier.prototype,{constructor:b,_setup:function(a,d){this.timeline=a;var b=this.duration,k=null;this.animation&&this.animation.getDuration&&(k=this.animation.getDuration());this.dScale=b!=-1&&b!==0?k/b:1;this.dDuration=
b!=-1?b:k;this.done=!1;this.animation&&this.animation.setup&&this.animation.setup(a,d)},_update:function(a,d){if(!this.done){var b=a,k=this.dDuration;if(this.animation){var g;k===0?g=b>=0?1:0:(b>=k&&(b=k),b<=0&&(b=0),g=m.easing[this.easing](b/k,b,0,1,k));this.animation.update(b*this.dScale,g,d)}(d.playDirection=="reverse"?b<=0:b>=k)&&this.complete()}},complete:function(){this.done=!0;this.timeline&&this.timeline._updateComplete(this)},getPosition:function(){return this.position},setPosition:function(a){this.position=
a},getDuration:function(){return this.duration!=-1?this.duration:this.animation&&this.animation.getDuration?this.animation.getDuration():0},setDuration:function(a){this.duration=a>=0?a:-1}});j.config={dropFrames:!0,fps:60};var s=[];j.tick=function(){var a=s.slice(0);s=[];for(var d=a.length,b=0;b<d;b++)a[b].call()};m.extend(j.prototype,n.prototype,{constructor:j,play:function(a){this.notifyObservers("onPlay");var d=new g(a);d.timeline=this;this._setup(this,a);this.timerStart=(new Date).getTime();this.startPosition=
this.currentPosition;var b=this,k=function(){b._handleTimer(d,k)};this._handleTimer(d,k)},stop:function(){this.notifyObservers("onStop");this.timer&&clearTimeout(this.timer);this.timerStart=this.timer=0},seek:function(a,d){this.notifyObservers("onSeek");this.stop();var b=this.currentPosition;this.currentPosition=a;var k=new g(d);k.timeline=this;this._setup(this,d);this._updateSeek(this.currentPosition,1,k,b)},add:function(a,d,g,k){this.objects.push(new b(a,d,g,k));this.objects.sort(function(a,d){return a.position-
d.position})},getDuration:function(){for(var a=0,d=this.objects,b=this.objects.length,k=Math.max,g=0;g<b;g++)var e=d[g],a=k(a,e.position+e.getDuration());return a},currentPosition:function(){return this.currentPosition},_update:function(a,d,b){this.notifyObservers("onPreUpdate",{elapsed:a,easingConst:d});for(var k=this.objects,g=k.length,e=b.playDirection!="reverse",j=0;j<g;j++){var i=k[e?j:g-j-1];if(e?a>=i.position:a<=i.position+i.duration)i.animation.isTrigger?i.animation.fire():i._update(a-i.position,
b)}this.notifyObservers("onUpdate",{elapsed:a,easingConst:d});this.notifyObservers("onPostUpdate",{elapsed:a,easingConst:d,context:b})},_handleTimer:function(a,d){var b=(new Date).getTime()-this.timerStart,k=a.playDirection=="reverse",g=this.startPosition+(k?-b:b);this.currentPosition=g=Math.max(0,Math.min(g,this.duration));this._update(g,1,a);(!k?g<this.duration:g>0)?a.externalClock?s.push(d):this.timer=setTimeout(d,this.interval):(this.stop(),this.notifyObservers("onComplete",{elapsed:b}))},_setup:function(a,
d){e.Animation.prototype._setup.call(this,a);for(var b=this.objects,k=this.objects.length,g=0;g<k;g++){var j=b[g];j._done=!1;j._setup(this,d)}this.duration=this.getDuration()},_updateComplete:function(a){a._done=!0}});j.prototype._updateSeek=j.prototype._update;e.Animation=n;e.TimelineObject=b;e.Timeline=j;e.Timeline.createTimeline=function(a){return new e.Timeline(a)};e.Timeline.createTween=function(a){var d=i[a];if(d)return d.func.apply(d.context,Array.prototype.slice.call(arguments,1));return null};
e.Timeline.addTweenType=function(a,d,b){i[a]={func:d,context:b}};e.Timeline.createTrigger=function(a,d){return new l(a,d,arguments[arguments.length-1])};e.Timeline.createTimelineFromData=function(a){for(var d=jQuery.Edge.Timeline.createTimeline(),b=a.length,k=0;k<b;k++){var g=a[k],j=null;g.timeline?j=e.Timeline.createTimelineFromData(g.timeline):g.tween?j=e.Timeline.createTween.apply(null,g.tween):g.trigger&&(j=g.trigger.slice(0,2),j.push(this),j=e.Timeline.createTrigger.apply(null,j));j&&d.add(j,
g.position,g.duration,g.easing)}return d}})(jQuery,jQuery.Edge);(function(m,e){function n(b,g,j,i,m){e.Animation.call(this);this.name="prop tween";this.sourceElements=this.elements=g;this.deferElementResolution=!0;this.tweenType=l[b];this.updateTriggered=!1;this.property=j;this.fromValue=void 0;this.toValue=i;this.duration=1E3;this.fromValues=this.tokens=this.valueTemplate=null;m&&$.extend(this,m);this.deferElementResolution=this.deferElementResolution||typeof g=="string"&&g.search(/\$\{[^\{\}]+\}/)!=-1;if(!this.deferElementResolution)this.elements=this.resolveElementSelector(g);
var m=this.toValues=[],a=this.parseValue(i);$.isArray(i)||(i=[i]);if(!a||a.length===0)a=i;g=a.length;for(b=0;b<g;b++){var j=a[b],d={};typeof j=="string"?(d.value=parseFloat(j.replace(/[a-zA-Z%]+$/,"")),d.unit=j.replace(/^-?[0-9]*(\.[0-9]+)?/,"")):(typeof j=="number"&&(j=parseFloat(j)),d.value=j,d.unit="");m.push(d)}i.length>1&&!this.valueTemplate&&alert("Multiple values specified for attribute tween, but no template was provided!");i.length>1&&(!this.fromValue||!$.isArray(this.fromValue))&&alert("Multiple values specified for attribute tween, but no from values specified!");
if(this.fromValue){i=this.fromValues=[];if((b=this.parseValue(this.fromValue))&&b.length>0)this.fromValue=b;else if(!$.isArray(this.fromValue))this.fromValue=[this.fromValue];g=this.fromValue.length;for(b=0;b<g;b++)j=this.fromValue[b],typeof j=="string"?i[b]=parseFloat(j.replace(/[a-zA-Z%]+$/,"")):(typeof j=="number"&&(j=parseFloat(j)),i[b]=j);this.toValues.length!=this.fromValues.length&&alert("Number of 'from' and 'to' values does not match for "+this.tweenType+" tween.")}if(this.filter){if(!$.isArray(this.filter))this.filter=
[this.filter];i=this.filter;g=i.length;for(b=0;b<g;b++)typeof i[b]=="string"&&(i[b]=Math[i[b]]),typeof i[b]!="function"&&(i[b]=null)}if(this.valueTemplate)this.tokens=this.parseTemplate(this.valueTemplate)}var l={style:0,attribute:1,property:2};n.Token=function(b,g){this.value=b;this.isPlaceholder=g};n.substituteParameters=function(b,g){for(var j=b;g&&typeof j=="string"&&j.search(/\$\{/)!=-1;){var i=j.search(/\$\{/),l=j.search(/\}/);(i=j.slice(i+2,l))||alert("Invalid parameter name: "+i);typeof i==
"string"&&(i=e.trimString(i),i=i.replace(/[\"\']/g,""));j=j.replace(/\$\{[^\}]*\}/,g[i]);typeof j=="undefined"&&alert("Animation parameter ${"+i+"} is undefined!")}return j};$.extend(n.prototype,e.Animation.prototype,{constructor:n,setup:function(){this.updateTriggered=!1},update:function(b,g,e){var i=this.getElementSet(e);if(!this.updateTriggered)this.updateTriggered=!0,this.setupForAnimation(e);var l=this,a=this.tweenType,d=this.property,p;i.each(function(){var k=l.getPropertyTweenData(this,a,d);
if(k.animationID==l.animationID){var e=k.fromValues,j=k.toValues,k=k.tokens,i=l.filter,m=e.length,n=[];for(p=0;p<m;p++){var u=e[p],w=j[p];u+=(w.value-u)*g;i&&i[p]&&(u=i[p](u));n.push(u+w.unit)}e="";e=l.formatValue(n);if(!(e.length>0))if(k){e=k.length;j=[];for(p=0;p<e;p++)i=k[p],i.isPlaceholder?j.push(n[i.value]):j.push(i.value);e=j.join("")}else e=n.join("");l.setValue.call(this,a,d,e);l.notifyObservers("onUpdate",{elapsed:b,easingConst:g,property:d,value:e,element:this})}})},setValue:function(b,
g,e){switch(b){case 0:$(this).css(g,e);break;case 1:this.setAttribute(g,e);break;case 2:this[g]=e}},getDuration:function(){return this.duration},resolveElementSelector:function(b){b=n.substituteParameters(this.elements,b.parameters);if(!b)b=this.elements;return $(b)},getElementSet:function(b){var g=this.animationID;if(!b.animData)b.animData={};var e=b.animData[g];e||(e=b.animData[g]=this.deferElementResolution?this.resolveElementSelector(b):this.elements);return e},getValue:function(b,g){var e;switch(g){case 0:e=
$(this).css(b);break;case 1:e=this.getAttribute(b);break;case 2:e=this[b]+""}return e},setupForAnimation:function(b){var g=this,e=this.tweenType,i=this.property;this.getElementSet(b).each(function(){var b=g.getPropertyTweenData(this,e,i);b.animationID=g.animationID;b.toValues=g.toValues;b.tokens=g.tokens;if(g.fromValues)b.fromValues=g.fromValues;else{var a=g.getValue.call(this,i,e);a===void 0&&(a="0");var d=g.parseValue(a);if(d&&d.length>0)for(var b=b.fromValues=[],a=d.length,p=0;p<a;p++){var k=d[p];
b[p]=typeof k=="string"?parseFloat(k.replace(/[a-zA-Z%]+$/,"")):k}else b.fromValues=[parseFloat(a.replace(/[a-zA-Z%]+$/,""))]}})},parseTemplate:function(b){for(var e=b.length,j=[],i=0,l=/@@[0-9]+@@/g,a=null;i<e&&(a=l.exec(b));)a.index!=i&&j.push(new n.Token(b.substring(i,a.index),!1)),j.push(new n.Token(parseInt(a[0].replace(/@@/g,""),10),!0)),i=l.lastIndex;i<e&&j.push(new n.Token(b.substring(i,e),!1));return j},parseValue:function(){return[]},formatValue:function(){return""},getPropertyTweenData:function(b,
e,j){var i=$.data(b,"tweenData");i||(i={},$.data(b,"tweenData",i));(b=i[e])||(b=i[e]={});(e=b[j])||(e=b[j]={animationID:-1});return e}});e.PropertyTween=n;e.Timeline.addTweenType("style",function(b,e,j,i){return new n("style",b,e,j,i)});e.Timeline.addTweenType("attribute",function(b,e,j,i){return new n("attribute",b,e,j,i)});e.Timeline.addTweenType("property",function(b,e,j,i){return new n("property",b,e,j,i)})})(jQuery,jQuery.Edge);(function(m,e,n){function l(o,c,a,f,h){e.PropertyTween.call(this,o,c,a,f,h);this.name="transformTween"}var b,g,j=Math.asin,i=Math.sin,s=Math.cos,a=Math.tan,d=Math.atan2,p=Math.PI/180,k=180/Math.PI;l.removeData=function(o){var c=m.data(o,l.dataName);c&&(c.timeline&&b.unRegister(c.timeline,c.id),$ele.removeData(o,l.dataName))};var r=function(o){var c=0;typeof o=="string"?c=parseFloat(o.replace(/[a-zA-Z%]+$/,"")):typeof o=="number"&&(c=o);return c};l.applyTransform=function(o,c,a,f){var o=m(o),h="webkitAppearance"in
document.documentElement.style,d=!0;f&&(d=!f.dontForceZ);if(h){f="translate("+c.translateX+","+c.translateY+")";h=r(c.translateZ);if(h!==0||d)f+=" translateZ("+c.translateZ+")";f+=" rotate("+c.rotateZ+") ";h=r(c.rotateY);h!==0&&(f+=" rotateY("+c.rotateY+")");h=r(c.rotateX);h!==0&&(f+=" rotateX("+c.rotateX+")");f+=" skew("+c.skewX+","+c.skewY+") scale("+c.scaleX+","+c.scaleY+") ";h=r(c.scaleZ);h!=1&&(f+=" scaleZ("+c.scaleZ+")");c="-webkit-transform";o.css(c,f);a&&a.observers.length&&a.notifyObservers("onUpdate",
{elapsed:0,easingConst:0,property:c,value:f,element:o[0]})}else f="translate("+c.translateX+","+c.translateY+")",f+=" rotate("+c.rotateZ+")",f+=" skew("+c.skewX+", "+c.skewY+")",f+=" scale("+c.scaleX+","+c.scaleY+")",o.css("-moz-transform",f),o.css("-o-transform",f),o.css("-ms-transform",f),o.css("msTransform",f)};var t=function(o){if(o!==0&&Math.abs(o)<1.0E-6)return o.toFixed(6);return o.toString()};l.dataName="EdgeTransformData";var y=1;m.extend(l.prototype,n.prototype,{constructor:l,setup:function(){this.updateTriggered=
!1},setValue:function(o,c,a){m.data(this,l.dataName)[c]=a},getValue:function(){m.data(this,l.dataName)},setupForAnimation:function(o){var c=this;this.getElementSet(o).each(function(){var o=m.data(this,l.dataName);o||(o=c.buildTransformData(this),m.data(this,l.dataName,o))});n.prototype.setupForAnimation.call(this,o)},update:function(o,c,a){n.prototype.update.call(this,o,c,a);var f=this,h=this.property,d=this.tweenType;this.getElementSet(a).each(function(){if(f.getPropertyTweenData(this,d,h).animationID==
f.animationID){var c=m.data(this,l.dataName);c.timeline=a.timeline;c.tween=f;b.Register(a.timeline,c.id,c)}})},buildTransformData:function(o){var c=e.parseCanonicalTransform(o);if(c===null){var c={},a=e.getTransformProps(o);c.translateX="0px";c.translateY="0px";c.translateZ="0px";c.scaleX=1;c.scaleY=1;c.scaleZ=1;c.rotateX="0deg";c.rotateY="0deg";c.rotateZ="0deg";c.skewXZ=0;c.skewXY=0;c.skewYZ=0;c.skewX="0deg";c.skewY="0deg";c.matrix&&delete c.matrix;if(a)c.translateX=t(a.translation[0])+"px",c.translateY=
t(a.translation[1])+"px",c.translateZ=t(a.translation[2])+"px",c.scaleX=t(a.scale[0]),c.scaleY=t(a.scale[1]),c.scaleZ=t(a.scale[2]),c.rotateX=t(a.rotation[0]*k)+"deg",c.rotateY=t(a.rotation[1]*k)+"deg",c.rotateZ=t(a.rotation[2]*k)+"deg",c.skewXY=a.skew[0],c.skewXZ=a.skew[1],c.skewYZ=a.skew[2],c.skewX=t(Math.atan(a.skew[0])*k)+"deg"}c===null&&(c={});c.id="transform_"+y++;c.element=o;c.onFinalUpdate=b.prototype._applyTransform;return c}});var J={translate3d:0,translate:0,translateX:0,translateY:0,translateZ:0,
rotate:1,rotateZ:1,rotateX:1,rotateY:1,rotate3d:1,skew:2,skewX:2,skewY:2,scale3d:3,scale:3,scaleX:3,scaleY:3,scaleZ:3,perspective:4};e.getTransformProps=function(a,c){var d=typeof c=="string"?c:e.getTransform(a),f="webkitAppearance"in document.documentElement.style;if(d&&d!="none"&&f)f=new e.CSSMatrix,f.setMatrixValue(d),d=g.fromCSSMatrix(f);else if(d&&d!="none")d=g.fromCSSMatrixString(d);else return;return e.decomposeTransform(d)};e.getTransform=function(a){var c;"webkitAppearance"in document.documentElement.style&&
(c=m(a).css("-webkit-transform"));c||(c=m(a).css("-ms-transform"));c||(c=m(a).css("-moz-transform"));c||(c=m(a).css("-o-transform"));c||(c=m(a).css("transform"));return c};e.parseCanonicalTransform=function(a,c){var d=(typeof c=="string"?c:e.getTransform(a)).match(/(\w+\s*\([^\)]*\))/g);if(!d)return null;var f={},h={translateX:"0px",translateY:"0px",translateZ:"0px",scaleX:1,scaleY:1,scaleZ:1,rotateX:"0deg",rotateY:"0deg",rotateZ:"0deg",skewXZ:0,skewXY:0,skewYZ:0,skewX:"0deg",skewY:"0deg"},b;for(b=
0;b<d.length;b++){var k=d[b].match(/\w+/);if(f[k[0]]||J[k[0]]<0)return null;var g=d[b].match(/\([^\)]*\)/),g=g[0].replace(/[\(\)]/g,""),g=g.split(",");switch(k[0]){case "matrix":return null;case "translate3d":h.translateX=g[0];h.translateY=g.length>1?g[1]:"0px";h.translateZ=g.length>2?g[2]:"0px";f.translate3d=f.translate=f.translateX=f.translateY=f.translateZ=!0;break;case "translate":h.translateX=g[0];h.translateY=g.length>1?g[1]:"0px";f.translate3d=f.translate=f.translateX=f.translateY=!0;break;
case "translateX":h.translateX=g[0];f.translate3d=f.translate=f.translateX=!0;break;case "translateY":h.translateY=g[0];f.translate3d=f.translate=f.translateY=!0;break;case "translateZ":h.translateZ=g[0];f.translate3d=f.translateZ=!0;break;case "rotate3d":return f.rotate3d=f.rotate=f.rotateX=f.rotateY=f.rotateZ=!0,null;case "rotateX":h.rotateX=g[0];f.rotate3d=f.rotateX=!0;break;case "rotateY":h.rotateY=g[0];f.rotate3d=f.rotateY=!0;break;case "rotateZ":case "rotate":h.rotateZ=g[0];f.rotate3d=f.rotate=
f.rotateZ=!0;break;case "skew":h.skewX=g[0];h.skewY=g.length>1?g[1]:"0px";f.skew=f.skewX=f.skewY=!0;break;case "skewX":h.skewX=g[0];f.skew=f.skewX=!0;break;case "skewY":h.skewY=g[0];f.skew=f.skewY=!0;break;case "scale3d":h.scaleX=g[0];h.scaleY=g.length>1?g[1]:"0px";h.scaleZ=g.length>2?g[2]:"0px";f.scale3d=f.scale=f.scaleX=f.scaleY=f.scaleZ=!0;break;case "scale":h.scaleX=g[0];h.scaleY=g.length>1?g[1]:"0px";f.scale=f.scaleX=f.scaleY=!0;break;case "scaleX":h.scaleX=g[0];f.scale3d=f.scale=f.scaleX=!0;
break;case "scaleY":h.scaleY=g[0];f.scale3d=f.scale=f.scaleY=!0;break;case "scaleZ":h.scaleZ=g[0];f.scale3d=f.scaleZ=!0;break;case "perspective":f.perspective=!0}}return h};e.TransformTween=l;b=function(a){this.handlers={};this.timeline=a};b.Register=function(a,c,d){var f=a.updateFinalizer;if(typeof f=="undefined")f=new b(a),a.updateFinalizer=f,a.addObserver(f);f.handlers[c]=d};b.unRegister=function(a,c){var d=a.updateFinalizer;typeof d!="undefined"&&delete d.handlers[c]};m.extend(b.prototype,{_finalizeUpdate:function(a,
c){var d={elapsed:a,context:c},f;for(f in this.handlers)if(this.handlers.hasOwnProperty(f)){var h=this.handlers[f];if(h.onFinalUpdate)h.onFinalUpdate(d)}},onUpdate:function(a,c){this._finalizeUpdate(c.elapsed,c.context)},onComplete:function(){this.timeline&&this.timeline.removeObserver(this);this.timeline.updateFinalizer=void 0},_applyTransform:function(a){var c=m.data(this.element,l.dataName);l.applyTransform(this.element,c,c.tween,a.context)}});l.UpdateFinalizer=b;if(typeof CSSMatrix=="undefined")if(typeof WebKitCSSMatrix!=
"undefined")e.CSSMatrix=WebKitCSSMatrix;else{if(typeof MozCSSMatrix!="undefined")e.CSSMatrix=MozCSSMatrix}else e.CSSMatrix=CSSMatrix;var x=function(a,c){for(var d=0,f=a.length,h=0;h<f;h++)d+=a[h]*c[h];return d},u=function(a){for(var c=0,d=a.length,f=0;f<d;f++)c+=a[f]*a[f];return Math.sqrt(c)},w=function(a){var c=a.length,d=u(a),f=Array(c);d===0&&(d=1);for(var h=0;h<c;h++)f[h]=a[h]/d;return f},I=function(a,c,d,f){var h=Array(3);h[0]=d*a[0]+f*c[0];h[1]=d*a[1]+f*c[1];h[2]=d*a[2]+f*c[2];return h};g=function(a){var c,
d;if(a)for(c=0;c<4;c++){this[c]=Array(4);for(d=0;d<4;d++)this[c][d]=a[c][d]}else for(c=0;c<4;c++){this[c]=Array(4);for(d=0;d<4;d++)this[c][d]=0;this[c][c]=1}this.size=4};g.fromCSSMatrix=function(a){var c=new g;c[0][0]=a.m11;c[0][1]=a.m12;c[0][2]=a.m13;c[0][3]=a.m14;c[1][0]=a.m21;c[1][1]=a.m22;c[1][2]=a.m23;c[1][3]=a.m24;c[2][0]=a.m31;c[2][1]=a.m32;c[2][2]=a.m33;c[2][3]=a.m34;c[3][0]=a.m41;c[3][1]=a.m42;c[3][2]=a.m43;c[3][3]=a.m44;return c};var q=function(a){var c={};c.num=parseFloat(a);c.units=a.match(/\w+$/);
if(typeof c.unit=="array")c.units=c.units[0];return c},v=function(a){a=a.toLowerCase();if(typeof a!="string")return 0;a=q(a);a.units=="deg"&&(a.num*=p);return a.num};g.fromCSSMatrixString=function(a){var c=new g,a=a.match(/(\w+\s*\([^\)]*\))/g);if(typeof a=="undefined"||a===null)return c;var d;for(d=0;d<a.length;d++){var f=a[d].match(/\w+/),h=a[d].match(/\([^\)]*\)/),h=h[0].replace(/[\(\)]/g,""),h=h.split(","),b,e;switch(f[0]){case "matrix":f=new g;h.length==6&&(f[0][0]=parseFloat(h[0]),f[0][1]=parseFloat(h[1]),
f[1][0]=parseFloat(h[2]),f[1][1]=parseFloat(h[3]),f[3][0]=parseFloat(h[4]),f[3][1]=parseFloat(h[5]),c.preMultiplyBy(f));break;case "translate3d":f=q(h[0]).num;b=h.length>1?q(h[1]).num:0;e=h.length>2?q(h[2]).num:0;c.translate3d(f,b,e);break;case "translate":f=q(h[0]).num;b=h.length>1?q(h[1]).num:0;c.translate3d(f,b,0);break;case "translateX":h=q(h[0]).num;c.translate3d(h,0,0);break;case "translateY":h=q(h[0]).num;c.translate3d(0,h,0);break;case "translateZ":h=q(h[0]).num;c.translate3d(0,0,h);break;
case "rotate3d":if(h.length>=3)f=q(h[0]).num,b=q(h[1]).num,e=q(h[2]).num,h=v(h[3]),c.rotate3d(f,b,e,h,!0);break;case "rotateX":h=v(h[0]);c.rotateX(h);break;case "rotateY":h=v(h[0]);c.rotateY(h);break;case "rotateZ":case "rotate":h=v(h[0]);c.rotateZ(h);break;case "skew":f=v(h[0]);h=v(h[1]);c.skew(f,h);break;case "skewX":h=v(h[0]);c.skew(h,0);break;case "skewY":h=v(h[0]);c.skew(0,h);break;case "scale3d":f=parseFloat(h[0]);b=h.length>1?parseFloat(h[1]):1;h=h.length>2?parseFloat(h[2]):1;c.scale(f,b,h);
break;case "scale":f=parseFloat(h[0]);b=h.length>1?parseFloat(h[1]):1;c.scale(f,b,0);break;case "scaleX":h=parseFloat(h[0]);c.scale(h,0,0);break;case "scaleY":h=parseFloat(h[0]);c.scale(0,h,0);break;case "scaleZ":h=parseFloat(h[0]);c.scale(0,0,h);break;case "perspective":h=parseFloat(h[0]),c.perspective(h)}}return c};m.extend(g.prototype,{identity:function(){for(var a=0;a<4;a++){this[a]=Array(4);for(var c=0;c<4;c++)this[a][c]=0;this[a][a]=1}return this},determinant:function(){var a=this[0][0],c=this[0][1],
d=this[0][2],f=this[0][3],h=this[1][0],b=this[1][1],e=this[1][2],g=this[1][3],k=this[2][0],j=this[2][1],i=this[2][2],l=this[2][3],p=this[3][0],m=this[3][1],n=this[3][2],r=this[3][3];return f*e*j*p-d*g*j*p-f*b*i*p+c*g*i*p+d*b*l*p-c*e*l*p-f*e*k*m+d*g*k*m+f*h*i*m-a*g*i*m-d*h*l*m+a*e*l*m+f*b*k*n-c*g*k*n-f*h*j*n+a*g*j*n+c*h*l*n-a*b*l*n-d*b*k*r+c*e*k*r+d*h*j*r-a*e*j*r-c*h*i*r+a*b*i*r},normalizeTransform:function(){if(this[3][3]===0)return!1;for(var a=0;a<4;a++)for(var c=0;c<4;c++)this[a][c]/=this[3][3];
return!0},transpose:function(){for(var a=new g,c=0;c<4;c++)for(var d=0;d<4;d++)a[c][d]=this[d][c];return a},toCSSMatrix:function(){var a=new e.CSSMatrix;a.m11=this[0][0];a.m12=this[0][1];a.m13=this[0][2];a.m14=this[0][3];a.m21=this[1][0];a.m22=this[1][1];a.m23=this[1][2];a.m24=this[1][3];a.m31=this[2][0];a.m32=this[2][1];a.m33=this[2][2];a.m34=this[2][3];a.m41=this[3][0];a.m42=this[3][1];a.m43=this[3][2];a.m44=this[3][3];return a},_inverse:function(){return this},inverse:function(){if(e.CSSMatrix!==
void 0){var a=this.toCSSMatrix().inverse();return g.fromCSSMatrix(a)}return this._inverse()},rotate3d:function(a,c,d,f,b){var g=new e.Matrix4x4;b||(f*=p);f&&(b=Math.sqrt(a*a+c*c+d*d),b!==0&&(a/=b,c/=b,d/=b,b=i(f),f=s(f),g[0][0]=1+(1-f)*(a*a-1),g[1][0]=-d*b+(1-f)*a*c,g[2][0]=c*b+(1-f)*a*d,g[3][0]=0,g[0][1]=d*b+(1-f)*a*c,g[1][1]=1+(1-f)*(c*c-1),g[2][1]=-a*b+(1-f)*c*d,g[3][1]=0,g[0][2]=-c*b+(1-f)*a*d,g[1][2]=a*b+(1-f)*c*d,g[2][2]=1+(1-f)*(d*d-1),g[3][2]=0,g[0][3]=0,g[1][3]=0,g[2][3]=0,g[3][3]=1));return this.preMultiplyBy(g)},
rotateX:function(a){return this.rotate3d(1,0,0,a)},rotateY:function(a){return this.rotate3d(0,1,0,a)},rotateZ:function(a){return this.rotate3d(0,0,1,a)},translate3d:function(a,c,d){this[3][0]+=a;this[3][1]+=c;this[3][2]+=d;return this},scale:function(a,c,d){if(a!=1||c!=1||d!=1){var f=new e.Matrix4x4;f[0][0]=a;f[1][1]=c;f[2][2]=d;return this.preMultiplyBy(f)}return this},skew:function(d,c,b){b||(d*=p,c*=p);d!==0&&(b=new e.Matrix4x4,b[1][0]=a(d),this.preMultiplyBy(b));c!==0&&(d=new e.Matrix4x4,d[0][1]=
a(c),this.preMultiplyBy(d));return this},perspective:function(a){if(a!==0){var d=new e.Matrix4x4;d[2][3]=1/a;this.preMultiplyBy(d)}return this},skewByFactors:function(a,d,b){a=new e.Matrix4x4;a[2][1]=b;this.preMultiplyBy(a);a.identity();a[2][0]=b;this.preMultiplyBy(a);a.identity();a[1][0]=b;this.preMultiplyBy(a);return this},applyPerspective:function(a,d,b,f){var h=new e.Matrix4x4;h[0][3]=a;h[1][3]=d;h[2][3]=b;h[3][3]=f;this.preMultiplyBy(h);return this},preMultiplyBy:function(a){var d=a[0][0],b=
a[0][1],f=a[0][2],h=a[0][3],g=a[1][0],e=a[1][1],k=a[1][2],j=a[1][3],i=a[2][0],l=a[2][1],p=a[2][2],m=a[2][3],n=a[3][0],r=a[3][1],t=a[3][2],a=a[3][3],q=this[0][0],y=this[0][1],s=this[0][2],u=this[0][3],v=this[1][0],w=this[1][1],x=this[1][2],z=this[1][3],A=this[2][0],B=this[2][1],C=this[2][2],D=this[2][3],E=this[3][0],F=this[3][1],G=this[3][2],H=this[3][3];this[0][0]=d*q+b*v+f*A+h*E;this[0][1]=d*y+b*w+f*B+h*F;this[0][2]=d*s+b*x+f*C+h*G;this[0][3]=d*u+b*z+f*D+h*H;this[1][0]=g*q+e*v+k*A+j*E;this[1][1]=
g*y+e*w+k*B+j*F;this[1][2]=g*s+e*x+k*C+j*G;this[1][3]=g*u+e*z+k*D+j*H;this[2][0]=i*q+l*v+p*A+m*E;this[2][1]=i*y+l*w+p*B+m*F;this[2][2]=i*s+l*x+p*C+m*G;this[2][3]=i*u+l*z+p*D+m*H;this[3][0]=n*q+r*v+t*A+a*E;this[3][1]=n*y+r*w+t*B+a*F;this[3][2]=n*s+r*x+t*C+a*G;this[3][3]=n*u+r*z+t*D+a*H;return this}});e.Matrix4x4=g;e.decomposeTransform=function(a){var c={},b=new g(a);if(!b.normalizeTransform())return null;c=new g(a);for(a=0;a<3;a++)c[a][3]=0;c[3][3]=1;if(c.determinant(c)===0)return window.edge_authoring_mode&&
alert("Bad perspective matrix"),null;var f=Array(4),a=Array(4);if(b[0][3]!==0||b[1][3]!==0||b[2][3]!==0){f[0]=b[0][3];f[1]=b[1][3];f[2]=b[2][3];f[3]=b[3][3];a=c.inverse();if(!a)return!1;a=a.transpose().rightMultiply(f);b[0][3]=b[1][3]=b[2][3]=0;b[3][3]=1}else a[0]=a[1]=a[2]=0,a[3]=1;c=Array(3);c[0]=b[3][0];b[3][0]=0;c[1]=b[3][1];b[3][1]=0;c[2]=b[3][2];b[3][2]=0;f=Array(3);f[0]=Array(3);f[1]=Array(3);f[2]=Array(3);for(var h=0;h<3;h++)f[h][0]=b[h][0],f[h][1]=b[h][1],f[h][2]=b[h][2];b=Array(3);b[0]=
u(f[0]);f[0]=w(f[0]);h=Array(3);h[0]=x(f[0],f[1]);f[1]=I(f[1],f[0],1,-h[0]);b[1]=u(f[1]);f[1]=w(f[1]);b[1]!==0&&(h[0]/=b[1]);h[1]=x(f[0],f[2]);f[2]=I(f[2],f[0],1,-h[1]);h[2]=x(f[1],f[2]);f[2]=I(f[2],f[1],1,-h[2]);b[2]=u(f[2]);b[2]!==0&&(f[2]=w(f[2]));b[2]!==0&&(h[1]/=b[2],h[2]/=b[2]);var e;e=f[1];var k=f[2],i=Array(3);e.length!=3||k.length!=3?e=null:(i[0]=e[1]*k[2]-e[2]*k[1],i[1]=e[2]*k[0]-e[0]*k[2],i[2]=e[0]*k[1]-e[1]*k[0],e=i);if(x(f[0],e)<0)for(e=0;e<3;e++)b[e]*=-1,f[e][0]*=-1,f[e][1]*=-1,f[e][2]*=
-1;e=Array(3);e[1]=j(-f[0][2]);s(e[1])!==0?(e[0]=d(f[1][2],f[2][2]),e[2]=d(f[0][1],f[0][0])):(e[0]=d(-f[2][0],f[1][1]),e[2]=0);return c={translation:c,rotation:e,scale:b,skew:h,perspective:a}};e.Timeline.addTweenType("transform",function(a,d,b,f){return new l("transform",a,d,b,f)})})(jQuery,jQuery.Edge,jQuery.Edge.PropertyTween);(function(m,e,n){function l(a,d,b,g,i){e.PropertyTween.call(this,a,d,b,g,i);this.name="colorTween"}m.extend(l.prototype,n.prototype,{constructor:l,getValue:function(a){return m(this).css(a)},setValue:function(a,d,b){m(this).css(d,b)},parseValue:function(a){var d=e.parseColorValue(a);if(d&&d.colorFunction&&d.values){var a=d.values,d=d.colorFunction,b=/hsl/gi;if(d.match(/rgb/gi))if(this.animationColorSpace&&this.animationColorSpace=="HSL")d={r:a[0],g:a[1],b:a[2]},(d=e.rgbToHSL(d))?a.length>3?(a=a[3],
a=[d.h,d.s,d.l,a]):a=[d.h,d.s,d.l]:a=[];else if(this.animationColorSpace){if(this.animationColorSpace!="RGB")return a}else this.animationColorSpace="RGB";else if(d.match(b))if(this.animationColorSpace&&this.animationColorSpace=="RGB")d={h:a[0],s:a[1],l:a[2]},(d=e.hslToRGB(d))?a.length>3?(a=a[3],a=[d.r,d.g,d.b,a]):a=[d.r,d.g,d.b]:a=[];else if(this.animationColorSpace){if(this.animationColorSpace!="HSL")return a}else this.animationColorSpace="HSL";a.length==3&&(a[3]=1);return a}},formatValue:function(a){if(a){var d;
this.animationColorSpace=="HSL"?(d="hsl",a=a.length==4?d+"a("+a[0]+","+a[1]+"%,"+a[2]+"%,"+a[3]+")":d+"("+a[0]+","+a[1]+"%,"+a[2]+"%)"):(d="rgb",a=a.length==4?d+"a("+a[0]+"%,"+a[1]+"%,"+a[2]+"%,"+a[3]+")":d+"("+a[0]+"%,"+a[1]+"%,"+a[2]+"%)");return a}}});e.ColorTween=l;e.parseColorValue=function(a){if(a){var d=[],b,e,g=/^\s*#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])\s*$/;(e=/^\s*#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})\s*$/.exec(a))?(d=[parseInt(e[1],16)/255*100,parseInt(e[2],16)/255*100,parseInt(e[3],
16)/255*100],b="rgb"):(e=g.exec(a))?(d=[parseInt(e[1]+e[1],16)/255*100,parseInt(e[2]+e[2],16)/255*100,parseInt(e[3]+e[3],16)/255*100],b="rgb"):a=="transparent"&&(d=[0,0,0,0],b="rgb");b||(b=a.match(/\w+/),m.isArray(b)?b=b[0]:b||(b=""),(e=a.match(/\([^\)]*\)/))&&e.length>0&&(e=e[0].replace(/[\(\)]/g,"")));a=/rgb/gi;g=/hsl/gi;if(d.length===0)if(b.match(a))if((g=/^\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(e))&&g.length>=4){for(a=0;a<3;a++)d[a]=g[a+
1]/255*100;g.length>4&&(g[4]||(g[4]=1),d[3]=g[4])}else{if((e=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(e))&&e.length>=4){if(e.length>=5)e.length=5,e[4]||(e[4]=1);for(a=0;a<e.length-1;a++)d[a]=e[a+1]}}else if(b.match(g)&&(e=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(e))&&e.length>=4){if(e.length>=
5)e.length=5,e[4]||(e[4]=1);for(a=0;a<e.length-1;a++)d[a]=e[a+1]}if(d)for(a=0;a<d.length;a++)d[a]=Math.round(d[a]*1E4)/1E4;return{colorFunction:b,values:d}}};var b=1/3,g=1/6,j=2/3,i=function(a){return a<0?a+1:a>1?a-1:a},s=function(a,b,e,k){return k<g?a+e*k:k<0.5?b:k<j?a+e*(j-k):a};e.hslToRGB=function(a){if(a===null||a.s<0||a.s>100||a.l<0||a.l>100)return null;for(;a.h>360;)a.h-=360;for(;a.h<0;)a.h=360+a.h;var d={},e=a.h/360,g=a.s/100,a=a.l/100;if(g===0)d.r=d.g=d.b=1;else{var g=a<=0.5?a*(1+g):a+g-a*
g,a=2*a-g,j=i(e+b),l=i(e),e=i(e-b),m=(g-a)*6;d.r=s(a,g,m,j);d.g=s(a,g,m,l);d.b=s(a,g,m,e)}d.r=Math.min(d.r*100,100);d.g=Math.min(d.g*100,100);d.b=Math.min(d.b*100,100);d.r=Math.round(d.r*1E4)/1E4;d.g=Math.round(d.g*1E4)/1E4;d.b=Math.round(d.b*1E4)/1E4;return d};e.rgbToHSL=function(a){if(a===null||a.r<0||a.r>100||a.g<0||a.g>100||a.b<0||a.b>100)return null;var b={h:0,s:0,l:0},e=a.r/100,g=a.g/100,a=a.b/100,i=Math.max(e,g,a),j=Math.min(e,g,a);b.l=(i+j)/2;if(i==j||b.l<=0)return b;var l=i-j;b.s=b.l<=0.5?
l/(i+j):l/(2-i-j);b.h=i==a?4+(e-g)/l:i==g?2+(a-e)/l:(g-a)/l;b.h*=60;if(b.h>360)b.h-=360;else if(b.h<0)b.h=360+b.h;b.s=Math.min(b.s*100,100);b.l=Math.min(b.l*100,100);b.h=Math.round(b.h*1E4)/1E4;b.s=Math.round(b.s*1E4)/1E4;b.l=Math.round(b.l*1E4)/1E4;return b};e.Timeline.addTweenType("color",function(a,b,e,g){return new l("color",a,b,e,g)})})(jQuery,jQuery.Edge,jQuery.Edge.PropertyTween);
